<div id="intro" class="section">
  <div class="section-mask">
    <% if @wedding_invite %>
      <%= form_for @wedding_invite, url: '/switch-language/' + String(@wedding_invite[:link_code]) do |f| %>
        <button id="language-toggle">
          <% if @language_code == "en" %>
            中文
          <% else %>
            English
          <% end %>
        </button>
      <% end %>
    <% end %>
  	<h1 id="couple-name">
      <% if @language_code == "en" %>
        Yining + Yaoli
      <% else %>
        以宁＋瑶莉
      <% end %>
    </h1>
    <div id="intro-main">
    	<h1 id="intro-header">
        <% if @language_code == "en" %>
          We're getting married
        <% else %>
        我们结婚啦！
        <% end %>
      </h1>
    	<h3 id="sub-intro-header">
        <% if @language_code == "en" %>
          July 23, 2016 / Lover's Point / Pacific Grove
        <% else %>
        2016年7月23号／情人角／Pacific Grove / 加州
        <% end %>
      </h3>
      <% if @wedding_invite %>
        <div id="rsvp">
          <button id="rsvp-button">
            <% if @language_code == "en" %>
              RSVP
            <% else %>
            请回复
            <% end %>
          </button>
        </div>
      <% end %>
    </div>
  </div>
</div>

<div id="story" class="section">
	<h1 id="story-header">
    <% if @language_code == "en" %>
      Our story
    <% else %>
    我们的故事
    <% end %>
  </h1>
	<h2 id="sub-story-header">
    <% if @language_code == "en" %>
      Love at first sight
    <% else %>
    一见钟情
    <% end %>
  </h2>
  <% if @language_code == "en" %>
    <p>
  Yining met Yaoli online in June of 2015. At the time, he was in California working at a tech company called YouTube, and she was in Shanghai working for an American healthcare research company called IMS. After three months of communicating via email, Yining flew across the ocean to finally meet Yaoli in person. They couldn't believe that the person they met in real life was even more amazing than they could have imagined. Even before saying goodbye after their first dinner together, Yining knew she was the one. The distance in time and space couldn't keep them apart after this as Yining would fly to Shanghai every month on the weekends or holidays to be with Yaoli. Though sometimes the flight alone was almost as long as their time together, they cherished any opportunity to be in each other's arms. They became each other's best friends and true lovers.
  Less than half a year since they met in Shanghai, Yining asked Yaoli to fly to California to be with him and become partners in life. Forever.
    </p>
    <p>We're ready to make it official now!</p>
  <% else %>
  <p>
  以宁和瑶莉于2015年6月在网络上相识。彼时，他在旧金山为YouTube工作，她在上海为IMS工作(一家医药咨询美资公司)。经过三个月的邮件沟通，以宁最终决定跨越太平洋，带着期许和好奇，亲自和瑶莉见面。未曾预料到现实超越了彼此的想象，甚至在他们的第一顿晚餐结束之前，以宁已确定了，“就是她”。纵使相隔万里，还有十多小时的时差，但时空都不能阻隔他们。不管多忙，以宁每个月都会抽时间在周末或者假期飞到上海陪伴瑶莉，有时在飞机上的时间都超过了他们短暂的相聚。相识与相见的不易，让他们更珍惜这段缘分，在一起的分分秒秒是他们最大的财富。相识半年后，以宁邀请瑶莉来到加州，以期结为终身伴侣，永远相随。
    
  这就是我们的故事。现在，我们向大家正式宣布，
  </p>
  <p>
  我们将步入婚姻殿堂，敬请各位参加我们的婚礼！
  </p>
  <% end %>
</div>

<div id="date" class="section">
  <div class="section-mask">
  	<h3 id="date-header">
      <% if @language_code == "en" %>
        Save the date
      <% else %>
      敬请关注
      <% end %>
    </h3>
  	<h1 id="sub-date-header">
      <% if @language_code == "en" %>
        July 23, 2016
      <% else %>
      2016年7月23号
      <% end %>
    </h1>
  </div>
</div>

<div id="wedding-detail" class="section">
  <div id="wedding-detail-content">
    <div id="wedding-detail-summary">
      <h1>
        <% if @language_code == "en" %>
          Wedding Details
        <% else %>
        婚礼流程
        <% end %>
      </h1>
      <p>
        <% if @language_code == "en" %>
          We'll have a brief ceremony at Lover's Point in Pacific Grove where Yining grew up, followed by a lunch reception at the Beach House Restaurant right next door!
        <% else %>
          我们将在加州Pacific Grove的情人角（以宁长大的地方）举行仪式，并会在现场提供点心和饮料，中午会在旁边的海滨小屋内进行午宴
        <% end %>
      </p>
    </div>
    <div id="wedding-detail-ceremony">
      <h2>
        <% if @language_code == "en" %>
          Prereception
        <% else %>
          预接待
        <% end %>
      </h2>
      <p>10:40AM - 11:00AM</p> 
      <p>
        <% if @language_code == "en" %>
          Coffee, refreshments, and fruits
        <% else %>
          咖啡，水果和点心
        <% end %>
      </p>
      <p>Lover's Point Park</p>
     


      <h2>
        <% if @language_code == "en" %>
          Ceremony
        <% else %>
        仪式
        <% end %>
      </h2>
      <p>11:00AM - 12:00AM</p>
      <a target="_blank" href="https://www.google.com/maps/place/Lovers+Point+Park/@36.6264254,-121.9187432,17z/data=!3m1!4b1!4m2!3m1!1s0x808de145db4dcb25:0x48028ef2b9b860bb">
        <p>Lover's Point Park</p>
        <p>Pacific Grove,CA</p>
      </a>
    </div>
    <div id="wedding-detail-reception">
      <% if @language_code == "en" %>
        <h2>Reception</h2>
      <% else %>
        <h2>餐宴</h2>
      <% end %>      
        <p>12:00AM - 2:30PM</p>
        <p>Beach House at Lover's Point</p>
        <p>620 Ocean View Boulevard, Pacific Grove, California</p>
    </div>
  </div>
</div>

<div id="photos" class="section">
  <div class="section-mask">
    <div id="photos-content">
      <h1>
        <% if @language_code == "en" %>
          Photos
        <% else %>
        照片
        <% end %>
      </h1>
      <p id="photos-message">
        <% if @language_code == "en" %>
          Thanks for Mom and Dad for setting up our wedding and taking some of these beautiful photos for us!
        <% else %>
        谢谢爸爸妈妈帮我们准备婚礼，为我们拍了生活照。
        <% end %>
      </p>
      <div class="photo-grid-container">
        <ul class="photo-grid">
          <% @image_gallery.each do |image_info| %>
            <li>
              <a href="<%= asset_path('wedding_photos/' + image_info[:src]) %>" class="photo-square <%= image_info[:dimensions_css] %>">
                <div class="photo-square-centering">
                  <img src="http://1x1px.me/FFFFFF-0.8.png" data-delayed-src="<%= asset_path('thumbnails/' + image_info[:src]) %>" alt="Wedding Photo" class="delay-loaded-image">
                </div>
              </a>
            </li>
          <% end %>
        </ul>
      </div>
      <footer>
        © 2016 A website by Yaoli and Yining. Design inspired by <a target="_blank" href="https://www.squarespace.com/websites/templates/naomi">Squarespace</a>.
      </footer>
    </div>
  </div>
</div>

<% if @wedding_invite %>
  <div id="rsvp-modal">
    <div id ="rsvp-form-mask"></div>
    <div id="rsvp-form">
      <%= form_for @wedding_invite, url: '/save/' + String(@wedding_invite[:link_code]) do |f| %>
        <fieldset>
          <legend>RSVP</legend>
          <div class="input-section">
            <h2 class="input-section-title">
              <% if @language_code == "en" %>
                Hey <%= @wedding_invite[:primary_invitee_name] %>! Will you be joining us for our big day?
              <% else %>
              您会来参加我们的婚礼吗？
              <% end %>
            </h2>
            <label>
              <%= f.radio_button(:is_coming, "true") %>
              <% if @language_code == "en" %>
                Yes!
              <% else %>
              是的，我会参加
              <% end %>
            </label>
            <label>
              <%= f.radio_button(:is_coming, "false") %>
              <% if @language_code == "en" %>
                No
              <% else %>
              很遗憾，不能参加
              <% end %>
            </label>
          </div>
          <div id="attendance-info" class="<%= attendance_info_visibility_css(@wedding_invite[:is_coming]) %>">
            <div class="input-section">
              <h2 class="input-section-title">
                <% if @language_code == "en" %>
                  Please choose a meal preference
                <% else %>
                请选择一道您喜欢的菜
                <% end %>
              </h2>
              <label>
                <%= f.radio_button(:primary_invitee_meal, "beef") %>
                <% if @language_code == "en" %>
                  Beef Stroganoff
                <% else %>
                俄式炒牛肉
                <% end %>
              </label>
              <label>
                <%= f.radio_button(:primary_invitee_meal, "fish") %>
                <% if @language_code == "en" %>
                  Grilled Salmon Filet
                <% else %>
                烤三文鱼
                <% end %>
              </label>
              <label>
                <%= f.radio_button(:primary_invitee_meal, "vegetarian") %>
                <% if @language_code == "en" %>
                  Vegetarian
                <% else %>
                素食
                <% end %>
              </label>
            </div>
            <div id="extra-guests">
              <%= render partial: "guest_invite", locals: {f: f, guest_num: 1, guest_name: @wedding_invite["guest_1_name"], language_code: @language_code }%>
              <%= render partial: "guest_invite", locals: {f: f, guest_num: 2, guest_name: @wedding_invite["guest_2_name"]}%>
              <%= render partial: "guest_invite", locals: {f: f, guest_num: 3, guest_name: @wedding_invite["guest_3_name"]}%>
              <%= render partial: "guest_invite", locals: {f: f, guest_num: 4, guest_name: @wedding_invite["guest_4_name"]}%>
            </div>        
            <button id="add-extra-guest" class="std-button">
              <% if @language_code == "en" %>
                (+) I'd like to add an extra guest
              <% else %>
              （＋）添加客人
              <% end %>
            </button>
          </div>
         
          <label class="input-section">
            <span class="input-section-title">
              <% if @language_code == "en" %>
                Anything else you'd like us to know about?
              <% else %>
              还有其他想让我们知道的吗？
              <% end %>
            </span>
            <%= f.text_area :extra_comments, :id => "extra-comments", :class => "text-box"%>
          </label>
          <div id="submit-container">
            <button id="submit">
              <% if @language_code == "en" %>
                Submit
              <% else %>
              提交
              <% end %>
            </button>
          </div>
        </fieldset>
      <% end %>
      <button id="close-rsvp" class="std-button">&times;</button> 
      <div id="form-submission-message">
        <p class="coming-to-wedding">
          <% if @language_code == "en" %>
            Thanks! See you at the wedding!
          <% else %>
          谢谢，我们婚礼见！
          <% end %>
        </p>
        <p class="not-coming">
          <% if @language_code == "en" %>
            Sorry you won't be joining us. See you next time.
          <% else %>
          很抱歉，不能参加我们的婚礼。我们下次见！
          <% end %>
        </p>
        <p class="submission-error">
          <% if @language_code == "en" %>
            An error occured, please try again.
          <% else %>
          抱歉，出现了错误，请再试一次。
          <% end %>
        </p>
      </div>
    </div>
  </div>
<% end %>

<div id="photo-modal-gallery">
  <button id="previous-image" class="std-button">&lt; </button>
  <button id="next-image" class="std-button">&gt;</button>
  <button id="close-modal" class="std-button">&times;</button>  
  <img src="" alt="...">
</div>
<script src="https://code.jquery.com/jquery-2.2.3.min.js" integrity="sha256-a23g1Nt4dtEYOj7bR+vTu7+T8VP13humZFBJNIYoEJo=" crossorigin="anonymous"></script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76863538-1', 'auto');
  ga('send', 'pageview');

</script> 